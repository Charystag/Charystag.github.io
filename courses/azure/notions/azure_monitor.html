<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Azure Monitor - Panorama du Cloud - Azure</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../exercises/deploy_nginx.html"><strong aria-hidden="true">1.</strong> Déployez un Serveur Web sur une Machine Virtuelle Azure</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../corrections/deploy_nginx.html"><strong aria-hidden="true">1.1.</strong> Correction de la partie non-guidée</a></li></ol></li><li class="chapter-item expanded "><a href="../exercises/multi_tier.html"><strong aria-hidden="true">2.</strong> Déployez une Application Multi-Tiers avec Azure</a></li><li class="chapter-item expanded affix "><li class="part-title">Tutoriels</li><li class="chapter-item expanded "><a href="../tutoriels/resources_group.html"><strong aria-hidden="true">3.</strong> Création et Gestion d'un groupe de resources</a></li><li class="chapter-item expanded "><a href="../tutoriels/tags.html"><strong aria-hidden="true">4.</strong> Déploiement et Gestion des étiquettes</a></li><li class="chapter-item expanded "><a href="../tutoriels/vm.html"><strong aria-hidden="true">5.</strong> Déployer une machine virtuelle Windows/Linux</a></li><li class="chapter-item expanded "><a href="../tutoriels/ssh.html"><strong aria-hidden="true">6.</strong> Connection à une VM avec RDP ou SSH sur azure</a></li><li class="chapter-item expanded "><a href="../tutoriels/scp.html"><strong aria-hidden="true">7.</strong> Utiliser SCP pour transférer des fichiers sur une VM linux</a></li><li class="chapter-item expanded "><a href="../tutoriels/snapshots.html"><strong aria-hidden="true">8.</strong> Gérer les sauvegardes et les snapshots des VMS</a></li><li class="chapter-item expanded "><a href="../tutoriels/storage.html"><strong aria-hidden="true">9.</strong> Configurer un compte de stockage Azure</a></li><li class="chapter-item expanded "><a href="../tutoriels/azure_blob_storage.html"><strong aria-hidden="true">10.</strong> Utiliser Azure Blob Storage pour stocker et gérer des fichiers</a></li><li class="chapter-item expanded affix "><li class="part-title">Notions</li><li class="chapter-item expanded "><a href="../notions/azure_monitor.html" class="active"><strong aria-hidden="true">11.</strong> Azure Monitor</a></li><li class="chapter-item expanded "><a href="../notions/ssh.html"><strong aria-hidden="true">12.</strong> protocole SSH</a></li><li class="chapter-item expanded "><a href="../notions/rdp.html"><strong aria-hidden="true">13.</strong> protocole RDP</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Panorama du Cloud - Azure</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="azure-monitor--quest-ce-que-cest-"><a class="header" href="#azure-monitor--quest-ce-que-cest-"><strong>Azure Monitor : Qu'est-ce que c'est ?</strong></a></h1>
<p><strong>Azure Monitor</strong> est un service de gestion et de surveillance des performances proposé par Microsoft Azure. Il permet de collecter, analyser et agir sur des données relatives aux performances et à l'état de vos ressources Azure, ainsi que sur celles qui se trouvent en dehors d'Azure.</p>
<p><strong>Objectif principal :</strong> Fournir une vue d'ensemble des performances, détecter les problèmes et optimiser les ressources dans le cloud.</p>
<hr />
<h3 id="les-principaux-composants-dazure-monitor"><a class="header" href="#les-principaux-composants-dazure-monitor"><strong>Les principaux composants d'Azure Monitor</strong></a></h3>
<ol>
<li>
<p><strong>Collecte de données :</strong>
Azure Monitor collecte deux types de données :</p>
<ul>
<li><strong>Données de métriques :</strong> Informations numériques sur l'état et les performances d'une ressource, comme le taux d'utilisation du CPU ou les requêtes par seconde.</li>
<li><strong>Données de journaux (logs) :</strong> Informations plus détaillées et souvent textuelles, comme les diagnostics ou les erreurs.</li>
</ul>
<p><strong>Exemple :</strong></p>
<ul>
<li>Collecter les métriques d'une machine virtuelle (VM) pour surveiller son utilisation CPU en temps réel.</li>
<li>Analyser les journaux de diagnostic d'une application pour identifier des erreurs.</li>
</ul>
<p>👉 <a href="https://learn.microsoft.com/fr-fr/azure/azure-monitor/overview">Documentations sur les données collectées</a></p>
</li>
</ol>
<hr />
<ol start="2">
<li>
<p><strong>Insights pour les services spécifiques :</strong>
Azure Monitor propose des solutions dédiées pour surveiller certains services Azure ou applications :</p>
<ul>
<li><strong>VM Insights :</strong> Pour surveiller la santé et les performances des machines virtuelles.</li>
<li><strong>Container Insights :</strong> Pour surveiller les clusters Kubernetes (AKS).</li>
<li><strong>Application Insights :</strong> Pour superviser vos applications et détecter automatiquement les anomalies.</li>
</ul>
<p><strong>Exemple :</strong>
Si vous hébergez une application dans Azure Kubernetes Service (AKS), vous pouvez utiliser <strong>Container Insights</strong> pour surveiller l'utilisation des pods et les erreurs.</p>
<p>👉 <a href="https://learn.microsoft.com/fr-fr/azure/azure-monitor/insights/">Insights disponibles</a></p>
</li>
</ol>
<hr />
<ol start="3">
<li>
<p><strong>Visualisation :</strong>
Les données collectées par Azure Monitor peuvent être visualisées via plusieurs outils :</p>
<ul>
<li><strong>Tableaux de bord Azure :</strong> Pour créer des visualisations personnalisées.</li>
<li><strong>Azure Monitor Workbooks :</strong> Pour des rapports interactifs et des visualisations avancées.</li>
<li><strong>Power BI :</strong> Pour connecter vos données Azure Monitor à Power BI et créer des tableaux de bord dynamiques.</li>
</ul>
<p><strong>Exemple :</strong>
Vous pouvez créer un tableau de bord qui affiche les métriques CPU, RAM et trafic réseau de vos machines virtuelles en temps réel.</p>
<p>👉 <a href="https://learn.microsoft.com/fr-fr/azure/azure-monitor/visualizations">Configurer des visualisations dans Azure Monitor</a></p>
</li>
</ol>
<hr />
<ol start="4">
<li>
<p><strong>Alertes :</strong>
Les alertes permettent de configurer des notifications automatiques basées sur des seuils de performance ou des événements spécifiques. Ces alertes peuvent envoyer des notifications par email, SMS, ou déclencher des actions comme des scripts ou des runbooks.</p>
<p><strong>Exemple :</strong></p>
<ul>
<li>Configurer une alerte pour recevoir une notification si le CPU d'une machine virtuelle dépasse 80 % pendant plus de 10 minutes.</li>
<li>Déclencher une action automatique pour redémarrer un service en cas d'erreur.</li>
</ul>
<p>👉 <a href="https://learn.microsoft.com/fr-fr/azure/azure-monitor/alerts/alerts-overview">Créer des alertes dans Azure Monitor</a></p>
</li>
</ol>
<hr />
<ol start="5">
<li>
<p><strong>Analyse avec KQL (Kusto Query Language) :</strong>
Azure Monitor permet d'utiliser le langage KQL pour analyser les logs collectés. C'est un outil puissant pour effectuer des recherches complexes sur les données.</p>
<p><strong>Exemple :</strong>
Si votre application rencontre des erreurs fréquentes, vous pouvez exécuter une requête KQL pour extraire tous les logs d'erreurs associés et identifier leur cause.</p>
<p><strong>Requête simple KQL :</strong></p>
<pre><code class="language-kql">AppTraces
| where SeverityLevel == "Error"
| summarize CountByType = count() by Message
</code></pre>
<p>👉 <a href="https://learn.microsoft.com/fr-fr/azure/data-explorer/kql-cheat-sheet">Introduction à KQL</a></p>
</li>
</ol>
<hr />
<ol start="6">
<li>
<p><strong>Actions automatisées :</strong>
Azure Monitor peut interagir avec d'autres services Azure pour automatiser des actions en réponse à des événements détectés :</p>
<ul>
<li><strong>Azure Logic Apps</strong> : Pour orchestrer des workflows.</li>
<li><strong>Azure Automation</strong> : Pour exécuter des scripts ou des runbooks.</li>
<li><strong>Event Grid</strong> ou <strong>Webhooks</strong> : Pour connecter d'autres systèmes externes.</li>
</ul>
<p><strong>Exemple :</strong>
En cas de saturation de la CPU d'une machine virtuelle, Azure Monitor peut automatiquement redimensionner la VM ou déclencher un runbook.</p>
<p>👉 <a href="https://learn.microsoft.com/fr-fr/azure/azure-monitor/platform/action-groups">Intégrer des actions avec Azure Monitor</a></p>
</li>
</ol>
<hr />
<h3 id="cas-dusage-dazure-monitor"><a class="header" href="#cas-dusage-dazure-monitor"><strong>Cas d'usage d'Azure Monitor</strong></a></h3>
<ol>
<li>
<p><strong>Surveillance des applications :</strong>
Utilisez <strong>Application Insights</strong> pour surveiller le comportement des applications web, les performances et suivre les utilisateurs en temps réel.</p>
<p>👉 <a href="https://learn.microsoft.com/fr-fr/azure/azure-monitor/app/app-insights-overview">Application Insights</a></p>
</li>
<li>
<p><strong>Optimisation des coûts :</strong>
Analyser les performances des ressources Azure pour identifier les ressources sous-utilisées ou mal configurées.</p>
<p>👉 <a href="https://learn.microsoft.com/fr-fr/azure/azure-monitor/monitor-cost-optimization">Optimisation avec Azure Monitor</a></p>
</li>
<li>
<p><strong>Détection des menaces :</strong>
Intégrer Azure Monitor avec <strong>Microsoft Defender for Cloud</strong> pour détecter et répondre aux menaces de sécurité.</p>
<p>👉 <a href="https://learn.microsoft.com/fr-fr/azure/defender-for-cloud/alerts-reference">Surveillance de la sécurité</a></p>
</li>
</ol>
<hr />
<h3 id="exemple-pratique--configuration-dune-alerte-de-métrique"><a class="header" href="#exemple-pratique--configuration-dune-alerte-de-métrique"><strong>Exemple pratique : Configuration d'une alerte de métrique</strong></a></h3>
<p>Voici un exemple pas-à-pas pour configurer une alerte sur une machine virtuelle Azure :</p>
<ol>
<li>Accédez à <strong>Azure Monitor</strong> depuis le portail Azure.</li>
<li>Dans la section <strong>Alertes</strong>, cliquez sur <strong>Nouvelle règle d'alerte</strong>.</li>
<li>Sélectionnez la machine virtuelle comme ressource.</li>
<li>Définissez une condition, par exemple "CPU &gt; 80%".</li>
<li>Configurez une <strong>action group</strong> pour recevoir une notification par email ou SMS.</li>
<li>Donnez un nom à la règle et créez-la.</li>
</ol>
<p>👉 <a href="https://learn.microsoft.com/fr-fr/azure/azure-monitor/alerts/tutorial-metric-alerts">Tutoriel détaillé sur les alertes</a></p>
<hr />
<h3 id="ressources-supplémentaires"><a class="header" href="#ressources-supplémentaires"><strong>Ressources supplémentaires</strong></a></h3>
<ul>
<li>
<p><strong>Documentation officielle Azure Monitor</strong> :<br />
<a href="https://learn.microsoft.com/fr-fr/azure/azure-monitor/overview">https://learn.microsoft.com/fr-fr/azure/azure-monitor/overview</a></p>
</li>
<li>
<p><strong>Tutoriels interactifs Azure Monitor</strong> :<br />
<a href="https://learn.microsoft.com/fr-fr/training/paths/monitor-manage-azure-resources/">https://learn.microsoft.com/fr-fr/training/paths/monitor-manage-azure-resources/</a></p>
</li>
<li>
<p><strong>API Azure Monitor</strong> :<br />
<a href="https://learn.microsoft.com/fr-fr/rest/api/monitor/">https://learn.microsoft.com/fr-fr/rest/api/monitor/</a></p>
</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../tutoriels/azure_blob_storage.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../notions/ssh.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../tutoriels/azure_blob_storage.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../notions/ssh.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
